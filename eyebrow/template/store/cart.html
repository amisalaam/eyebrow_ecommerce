{% extends 'base.html' %}
{% load static%}
{% block content %}
{% include 'include/nav.html' %}

<!-- Shoping Cart -->
<form class="bg0 p-t-75 p-b-85" style="margin-top: 100px">
  <div class="container">
    <form class="bg0 p-t-75 p-b-85">
      <div class="container">
        {% if not cart_items %}
          <h2 class="text-center fw-bold">You're Shopping Cart is Empty</h2>
          <br>
          <div class="text-center">
            <a href="{% url 'store' %}" class="btn btn-dark">Continue Shopping</a>
          </div>
        {% else %}
    <div class="row">
      <div class="col-lg-10 col-xl-8 m-lr-auto m-b-50">
        <div class="m-l-25 m-r--38 m-lr-0-xl">
          <div class="wrap-table-shopping-cart">
            <table class="table-shopping-cart">
              <tr class="table_head">
                <th class="column-1">Product</th>
                <th class="column-2"></th>
                <th class="column-3">Price</th>
                <th class="column-4">Quantity</th>
                <th class="column-5">Total</th>
                <th class="column-6"></th>
                

                
              </tr>
              
              {% for cart_item in cart_items %}


              <tr class="table_row">
        
                
                <td class="column-1">
                  <div class="how-itemcart1">
                    <img src="{{ cart_item.product.images.url }}" alt="IMG" />
                  </div>
                </td>
                <td a class="column-2 "><a href="{{ product.get_url }}">{{ cart_item.product.product_name }}</a></td>
                <td class="column-3">{{ cart_item.product.price}} </td>
                <td class="column-4">
                  <!-- col.// -->
                  <div class="col">
                    <div class="input-group input-spinner">
                      <div class="input-group-prepend">
                        <a href="{% url 'remove_cart' cart_item.product.id %}" class="btn btn-light" type="button" id="button-plus"><i class="fa fa-minus"></i>
                        </a>
                      </div>
                      <input type="text" class="form-control w-auto" value="{{ cart_item.quantity }}">
                      <div class="input-group-append">
                        <a href="{% url 'add_cart' cart_item.product.id %}" class="btn btn-light" type="button"
                          id="button-minus"> <i class="fa fa-plus"></i> </a>
                      </div>
                    </div> <!-- input-group.// -->
                  </div> <!-- col.// -->
                </td>

                <td class="column-5">RS : {{cart_item.sub_total }}  </td>
                <td class="column-6"><a href="{% url 'delete_cart' cart_item.product.id %}" class="text-danger ">Remove</a></td>


             
                



              </tr>
              {% endfor %}
            </table>
          </div>

          <div class="flex-w flex-sb-m bor15 p-t-18 p-b-15 p-lr-40 p-lr-15-sm">
            <div class="flex-w flex-m m-r-20 m-tb-5">
              <input class="stext-104 cl2 plh4 size-117 bor13 p-lr-20 m-r-10 m-tb-5" type="text" name="coupon"
                placeholder="Coupon Code" />

              <div class="flex-c-m stext-101 cl2 size-118 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer m-tb-5">
                Apply coupon
              </div>
            </div>

            <div class="flex-c-m stext-101 cl2 size-119 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer m-tb-10">
              Update Cart
            </div>
          </div>
        </div>
      </div>


      <div class="col-sm-10 col-lg-8 col-xl-4 m-lr-auto m-b-20">
        <div class="bor10 p-lr-40 p-t-30 p-b-40 m-l-63 m-r-40 m-lr-0-xl p-lr-15-sm">
          <h4 class="mtext-109 cl2 p-b-30">Cart Totals</h4>

          <div class="flex-w flex-t bor12 p-b-13">
            <div class="size-190">
              <span class="stext-110 cl2"> Amount : </span>
            </div>

            <div class="size-190">
              <span class="mtext-110 cl2 "> ₹{{total}} </span>
            </div>
          </div>
          
          <div class="flex-w flex-t bor12 p-b-13">
            <div class="size-150">
              <span class="stext-110 cl2"> Tax : </span>
            </div>

            <div class="size-190">
              <span class="mtext-110 cl2 ">₹ {{ tax }}</span>
            </div>
          </div>

          <div class="flex-w flex-t bor12 p-b-13">
            <div class="size-150">
             <b><span class="stext-110 cl2"> Total: </span></b> 
            </div>

            <div class="size-150  ">
              <b><span class="mtext-110 cl2 ">₹{{ grand_total }}</span></b>
            </div>
          </div>

          

                <div class="flex-w my-2">
                  <div class="flex-c-m stext-101 cl2 size-115 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer">
                    Check Out
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endif  %}
    </div>
    
  </div>
</form>
{% include 'include/footer.html' %}
{% endblock content%}
